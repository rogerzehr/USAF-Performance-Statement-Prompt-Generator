    <!-- Real-Time Metrics Analyzer Script -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Get elements
        const accomplishmentTextarea = document.getElementById('accomplishment');
        const highlightOverlay = document.getElementById('highlightOverlay');
        const metricsPanel = document.getElementById('metricsPanel');
        const extractedMetrics = document.getElementById('extractedMetrics');
        const metricsScore = document.getElementById('metricsScore');
        const suggestionPanel = document.getElementById('suggestionPanel');
        const suggestionList = document.getElementById('suggestionList');
        const enableMetricsAnalyzer = document.getElementById('enableMetricsAnalyzer');
        
        // Regex patterns for metrics
        const patterns = {
            number: /\b\d+\b/g,
            percentage: /\b\d+(\.\d+)?%\b/g,
            dollar: /\$\d+(,\d+)*(\.\d+)?|\b\d+(\.\d+)?\s*(dollars|USD|K|M|million|billion)\b/gi,
            time: /\b\d+\s*(day|days|hour|hours|minute|minutes|week|weeks|month|months|year|years)\b/gi
        };
        
        // Weak statement indicators
        const weakIndicators = [
            /\b(helped|assisted|supported|participated|involved)\b/gi,
            /\b(good|great|excellent|outstanding)\b/gi,
            /\b(several|many|numerous|various|multiple)\b/gi
        ];
        
        // Impact phrases (for suggestions)
        const impactPhrases = [
            "resulting in...",
            "leading to...",
            "enabling...",
            "increasing... by X%",
            "reducing... by X%",
            "saving $X in...",
            "improving efficiency by...",
            "enhancing mission effectiveness through...",
            "directly contributing to..."
        ];
        
        // Action verbs by ALQ category
        const strongVerbs = {
            "Job Proficiency": ["executed", "conducted", "operated", "performed", "directed", "managed", "led"],
            "Initiative": ["spearheaded", "pioneered", "initiated", "created", "developed", "established", "launched"],
            "Adaptability": ["overcame", "navigated", "adjusted", "transformed", "realigned", "pivoted", "modified"],
            "Inclusion & Teamwork": ["united", "integrated", "collaborated", "coordinated", "facilitated", "synchronized", "liaised"],
            "Communication": ["briefed", "authored", "presented", "articulated", "conveyed", "communicated", "educated"],
            "Stewardship": ["conserved", "optimized", "allocated", "streamlined", "economized", "maximized", "leveraged"],
            "Innovation": ["engineered", "redesigned", "revolutionized", "modernized", "transformed", "improved", "enhanced"],
            "Decision Making": ["determined", "evaluated", "analyzed", "assessed", "resolved", "solved", "mitigated"]
        };
        
        // Sample suggestions for improving statements
        const suggestions = [
            "Add specific numbers to quantify your impact",
            "Include percentages to show improvement",
            "Specify the dollar amount saved or resource value",
            "Replace weak verbs with stronger action words",
            "Add timeframes to demonstrate efficiency",
            "Connect your action directly to a mission outcome",
            "Specify the scale of your effort (people, organizations, time)",
            "Include specific equipment/assets involved with values"
        ];
        
        // Initialize the metrics analyzer
        function initMetricsAnalyzer() {
            // Add event listener to analyze text on input
            accomplishmentTextarea.addEventListener('input', analyzeText);
            
            // Toggle analyzer visibility
            enableMetricsAnalyzer.addEventListener('change', function() {
                if (this.checked) {
                    metricsPanel.style.display = 'block';
                    analyzeText();
                } else {
                    metricsPanel.style.display = 'none';
                }
            });
            
            // Initial analysis
            analyzeText();
        }
        
        // Analyze text for metrics and weak statements
        function analyzeText() {
            const text = accomplishmentTextarea.value;
            const metrics = {
                number: [],
                percentage: [],
                dollar: [],
                time: []
            };
            
            // Don't process if too short
            if (text.length < 10) {
                extractedMetrics.innerHTML = '<div style="margin-bottom: 10px; color: #666; font-style: italic;">No metrics detected yet. Add numbers, percentages, dollar amounts, or timeframes to your accomplishment.</div>';
                updateScore(0);
                return;
            }
            
            // Find metrics without highlighting
            for (const type in patterns) {
                const matches = Array.from(text.matchAll(patterns[type]));
                metrics[type] = matches.map(m => m[0]);
            }
            
            // Find weak statements
            let weakStatements = [];
            for (const pattern of weakIndicators) {
                const matches = Array.from(text.matchAll(pattern));
                for (const match of matches) {
                    // Find the sentence containing the weak indicator
                    const sentenceStart = text.lastIndexOf('.', match.index) + 1;
                    const sentenceEnd = text.indexOf('.', match.index);
                    if (sentenceEnd > sentenceStart) {
                        const sentence = text.substring(sentenceStart, sentenceEnd).trim();
                        weakStatements.push({
                            sentence: sentence,
                            indicator: match[0],
                            type: pattern.toString().includes('helped|assisted') ? 'weak verb' : 
                                  pattern.toString().includes('good|great') ? 'vague adjective' : 'non-specific quantity'
                        });
                    }
                }
            }
            
            // Update metrics panel
            updateMetricsPanel(metrics, weakStatements);
        }
        
        // Update the metrics panel with extracted metrics
        function updateMetricsPanel(metrics, weakStatements) {
            let metricsHTML = '';
            let totalMetrics = 0;
            
            // Build metrics display
            for (const type in metrics) {
                if (metrics[type].length > 0) {
                    for (const metric of metrics[type]) {
                        metricsHTML += `
                            <div class="metrics-item">
                                <div class="metrics-icon icon-${type}">${type.charAt(0).toUpperCase()}</div>
                                <div>${metric}</div>
                            </div>
                        `;
                        totalMetrics++;
                    }
                }
            }
            
            if (totalMetrics > 0) {
                extractedMetrics.innerHTML = metricsHTML;
            } else {
                extractedMetrics.innerHTML = '<div style="margin-bottom: 10px; color: #666; font-style: italic;">No metrics detected yet. Add numbers, percentages, dollar amounts, or timeframes to your accomplishment.</div>';
            }
            
            // Generate suggestions for improvement
            updateSuggestions(weakStatements, metrics);
            
            // Calculate and update score
            const score = calculateScore(metrics, weakStatements);
            updateScore(score);
        }
        
        // Update suggestions based on analysis
        function updateSuggestions(weakStatements, metrics) {
            if (weakStatements.length > 0 || Object.values(metrics).every(arr => arr.length === 0)) {
                suggestionPanel.style.display = 'block';
                let suggestionsHTML = '';
                
                // Add suggestions for weak statements
                if (weakStatements.length > 0) {
                    for (let i = 0; i < Math.min(weakStatements.length, 3); i++) {
                        const weak = weakStatements[i];
                        suggestionsHTML += `
                            <li class="suggestion-item">
                                Replace "${weak.indicator}" with a stronger ${weak.type}
                                <button class="enhance-btn">Enhance</button>
                            </li>
                        `;
                    }
                }
                
                // Add general suggestions if no metrics
                if (Object.values(metrics).every(arr => arr.length === 0)) {
                    // Get random suggestions
                    const randomSuggestions = suggestions
                        .sort(() => 0.5 - Math.random())
                        .slice(0, 2);
                    
                    for (const suggestion of randomSuggestions) {
                        suggestionsHTML += `<li class="suggestion-item">${suggestion}</li>`;
                    }
                }
                
                suggestionList.innerHTML = suggestionsHTML;
                
                // Add event listeners to enhance buttons
                document.querySelectorAll('.enhance-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const weakIndicator = this.parentElement.textContent.match(/"([^"]+)"/)[1];
                        enhanceStatement(weakIndicator);
                    });
                });
            } else {
                suggestionPanel.style.display = 'none';
            }
        }
        
        // Enhance a statement by replacing weak words
        function enhanceStatement(weakIndicator) {
            const text = accomplishmentTextarea.value;
            
            // Find random strong verb as replacement
            const categories = Object.keys(strongVerbs);
            const randomCategory = categories[Math.floor(Math.random() * categories.length)];
            const strongVerbsList = strongVerbs[randomCategory];
            const randomVerb = strongVerbsList[Math.floor(Math.random() * strongVerbsList.length)];
            
            // Replace the weak indicator with the strong verb
            const newText = text.replace(new RegExp(`\\b${weakIndicator}\\b`, 'i'), randomVerb);
            
            // Update textarea
            accomplishmentTextarea.value = newText;
            
            // Re-analyze text
            analyzeText();
        }
        
        // Calculate impact score based on metrics and weak statements
        function calculateScore(metrics, weakStatements) {
            let score = 0;
            
            // Add points for metrics
            score += metrics.number.length;
            score += metrics.percentage.length * 2;
            score += metrics.dollar.length * 2;
            score += metrics.time.length;
            
            // Subtract points for weak statements
            score -= Math.min(weakStatements.length, 5);
            
            // Ensure score is between 0-10
            return Math.max(0, Math.min(10, score));
        }
        
        // Update the impact score display
        function updateScore(score) {
            metricsScore.textContent = `Impact Score: ${score}/10`;
            
            // Change color based on score
            if (score <= 3) {
                metricsScore.style.background = 'rgba(231, 76, 60, 0.3)';
            } else if (score <= 6) {
                metricsScore.style.background = 'rgba(241, 196, 15, 0.3)';
            } else {
                metricsScore.style.background = 'rgba(46, 204, 113, 0.3)';
            }
        }
        
        // Initialize the metrics analyzer
        initMetricsAnalyzer();
    });
    </script>    <style>
        /* Highlight styles for metrics */
        .highlight-number {
            background-color: rgba(0, 198, 255, 0.2);
            border-bottom: 2px solid var(--accent-color);
            padding: 0 2px;
            border-radius: 2px;
        }
        
        .highlight-percentage {
            background-color: rgba(46, 204, 113, 0.2);
            border-bottom: 2px solid #2ecc71;
            padding: 0 2px;
            border-radius: 2px;
        }
        
        .highlight-dollar {
            background-color: rgba(155, 89, 182, 0.2);
            border-bottom: 2px solid #9b59b6;
            padding: 0 2px;
            border-radius: 2px;
        }
        
        .highlight-time {
            background-color: rgba(241, 196, 15, 0.2);
            border-bottom: 2px solid #f1c90f;
            padding: 0 2px;
            border-radius: 2px;
        }
        
        .highlight-weak {
            background-color: rgba(231, 76, 60, 0.1);
            border-bottom: 1px dashed #e74c3c;
            padding: 0 2px;
        }
        
        .metrics-item {
            display: flex;
            align-items: center;
            padding: 5px 0;
            border-bottom: 1px solid #eee;
        }
        
        .metrics-item:last-child {
            border-bottom: none;
        }
        
        .metrics-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            margin-right: 10px;
            color: white;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .icon-number {
            background-color: var(--accent-color);
        }
        
        .icon-percentage {
            background-color: #2ecc71;
        }
        
        .icon-dollar {
            background-color: #9b59b6;
        }
        
        .icon-time {
            background-color: #f1c90f;
        }
        
        .metrics-toggle {
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        
        .suggestion-item {
            margin-bottom: 8px;
        }
        
        .enhance-btn {
            background-color: var(--air-force-light);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 2px 6px;
            font-size: 0.75rem;
            cursor: pointer;
            margin-left: 8px;
        }
        
        .enhance-btn:hover {
            background-color: var(--air-force-blue);
        }
    </style>    <!-- Multi-Format Template Handling Script -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Get elements
      const showFormatsButton = document.getElementById('showFormatsButton');
      const templatePreviewContainer = document.getElementById('templatePreviewContainer');
      const templateSelector = document.getElementById('templateSelector');
      const templatePreview = document.getElementById('templatePreview');
      const copyFormattedButton = document.getElementById('copyFormattedButton');
      const downloadDocxButton = document.getElementById('downloadDocxButton');
      const downloadPdfButton = document.getElementById('downloadPdfButton');
      const vpcButton = document.getElementById('vpcButton');
      const myEvalButton = document.getElementById('myEvalButton');
      const charCount = document.getElementById('charCount');
      const lineCount = document.getElementById('lineCount');
      const formatStatus = document.getElementById('formatStatus');
      
      // Templates for different forms
      const templates = {
        form1206: {
          title: "AF Form 1206 - Award Package",
          html: `
            <div style="border: 1px solid #ddd; padding: 20px; background-color: white; max-width: 100%; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
              <div style="text-align: center; border-bottom: 2px solid #0033a0; padding-bottom: 10px; margin-bottom: 15px;">
                <h3 style="color: #0033a0; margin: 0;">AIR FORCE FORM 1206 - NOMINATION FOR AWARD</h3>
                <div style="color: #666; font-size: 0.9rem; margin-top: 5px;">SPECIFIC ACHIEVEMENT</div>
              </div>
              
              <div style="margin-bottom: 15px;">
                <div style="font-weight: bold; margin-bottom: 5px;">I. PROFESSIONAL PERFORMANCE</div>
                <div id="templateContent" style="min-height: 100px; padding: 10px; background-color: #f9f9f9; border: 1px solid #eee; line-height: 1.5; white-space: pre-wrap; font-family: 'Times New Roman', Times, serif; font-size: 12pt; text-align: justify;">
                  [Performance statements will appear here]
                </div>
              </div>
              
              <div style="font-size: 0.8rem; color: #666; margin-top: 20px; text-align: center; border-top: 1px solid #ddd; padding-top: 10px;">
                FOR OFFICIAL USE ONLY (When filled in)
              </div>
            </div>
          `,
          characterLimit: 250,
          lineLimit: 15
        },
        epr: {
          title: "Enlisted Performance Brief (EPB)",
          html: `
            <div style="border: 1px solid #ddd; padding: 20px; background-color: white; max-width: 100%; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
              <div style="text-align: center; border-bottom: 2px solid #0033a0; padding-bottom: 10px; margin-bottom: 15px;">
                <h3 style="color: #0033a0; margin: 0;">ENLISTED PERFORMANCE BRIEF</h3>
              </div>
              
              <div style="margin-bottom: 15px;">
                <div style="display: flex; margin-bottom: 10px;">
                  <div style="flex: 1; font-weight: bold;">NAME (Last, First Middle Initial)</div>
                  <div style="flex: 1; font-weight: bold;">GRADE</div>
                  <div style="flex: 1; font-weight: bold;">DAFSC</div>
                </div>
                <div style="display: flex; margin-bottom: 20px;">
                  <div style="flex: 1; border-bottom: 1px solid #ccc; padding: 5px;">DOE, JOHN A</div>
                  <div style="flex: 1; border-bottom: 1px solid #ccc; padding: 5px;">TSGT</div>
                  <div style="flex: 1; border-bottom: 1px solid #ccc; padding: 5px;">1N071</div>
                </div>
                
                <div style="font-weight: bold; margin-bottom: 5px;">PERFORMANCE STATEMENTS</div>
                <div id="templateContent" style="min-height: 100px; padding: 10px; background-color: #f9f9f9; border: 1px solid #eee; line-height: 1.5; white-space: pre-wrap; font-family: 'Arial', sans-serif; font-size: 11pt; text-align: justify;">
                  [Performance statements will appear here]
                </div>
              </div>
            </div>
          `,
          characterLimit: 175,
          lineLimit: 12
        },
        opr: {
          title: "Officer Performance Brief (OPB)",
          html: `
            <div style="border: 1px solid #ddd; padding: 20px; background-color: white; max-width: 100%; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
              <div style="text-align: center; border-bottom: 2px solid #0033a0; padding-bottom: 10px; margin-bottom: 15px;">
                <h3 style="color: #0033a0; margin: 0;">OFFICER PERFORMANCE BRIEF</h3>
              </div>
              
              <div style="margin-bottom: 15px;">
                <div style="display: flex; margin-bottom: 10px;">
                  <div style="flex: 1; font-weight: bold;">NAME (Last, First Middle Initial)</div>
                  <div style="flex: 1; font-weight: bold;">GRADE</div>
                  <div style="flex: 1; font-weight: bold;">DAFSC</div>
                </div>
                <div style="display: flex; margin-bottom: 20px;">
                  <div style="flex: 1; border-bottom: 1px solid #ccc; padding: 5px;">SMITH, JANE B</div>
                  <div style="flex: 1; border-bottom: 1px solid #ccc; padding: 5px;">CAPT</div>
                  <div style="flex: 1; border-bottom: 1px solid #ccc; padding: 5px;">14N3</div>
                </div>
                
                <div style="font-weight: bold; margin-bottom: 5px;">PERFORMANCE STATEMENTS</div>
                <div id="templateContent" style="min-height: 100px; padding: 10px; background-color: #f9f9f9; border: 1px solid #eee; line-height: 1.5; white-space: pre-wrap; font-family: 'Arial', sans-serif; font-size: 11pt; text-align: justify;">
                  [Performance statements will appear here]
                </div>
              </div>
            </div>
          `,
          characterLimit: 175,
          lineLimit: 12
        },
        weekly: {
          title: "Weekly Performance Report",
          html: `
            <div style="border: 1px solid #ddd; padding: 20px; background-color: white; max-width: 100%; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
              <div style="text-align: center; border-bottom: 2px solid #0033a0; padding-bottom: 10px; margin-bottom: 15px;">
                <h3 style="color: #0033a0; margin: 0;">WEEKLY CIVILIAN PERFORMANCE REPORT</h3>
                <div style="color: #666; font-size: 0.9rem; margin-top: 5px;">Week Ending: ${new Date().toLocaleDateString()}</div>
              </div>
              
              <div style="margin-bottom: 15px;">
                <div style="display: flex; margin-bottom: 10px;">
                  <div style="flex: 2; font-weight: bold;">NAME</div>
                  <div style="flex: 1; font-weight: bold;">ORGANIZATION</div>
                </div>
                <div style="display: flex; margin-bottom: 20px;">
                  <div style="flex: 2; border-bottom: 1px solid #ccc; padding: 5px;">JOHNSON, ROBERT</div>
                  <div style="flex: 1; border-bottom: 1px solid #ccc; padding: 5px;">352 SOW</div>
                </div>
                
                <div style="font-weight: bold; margin-bottom: 5px;">ACCOMPLISHMENTS</div>
                <div id="templateContent" style="min-height: 100px; padding: 10px; background-color: #f9f9f9; border: 1px solid #eee; line-height: 1.5; white-space: pre-wrap; font-family: 'Arial', sans-serif; font-size: 11pt; text-align: justify;">
                  [Performance statements will appear here]
                </div>
              </div>
            </div>
          `,
          characterLimit: 250,
          lineLimit: 8
        }
      };
      
      // Show templates button click handler
      if (showFormatsButton) {
        showFormatsButton.addEventListener('click', function() {
          if (templatePreviewContainer.style.display === 'none') {
            templatePreviewContainer.style.display = 'block';
            updateTemplatePreview();
          } else {
            templatePreviewContainer.style.display = 'none';
          }
        });
      }
      
      // Template selector change handler
      if (templateSelector) {
        templateSelector.addEventListener('change', function() {
          updateTemplatePreview();
        });
      }
      
      // Update the template preview based on selected template
      function updateTemplatePreview() {
        const selectedTemplate = templateSelector.value;
        const template = templates[selectedTemplate];
        
        if (template) {
          templatePreview.innerHTML = template.html;
          
          // Update character limit display
          charCount.textContent = `0/${template.characterLimit}`;
          lineCount.textContent = `0/${template.lineLimit}`;
          
          // Get statements from the output prompt
          const outputPrompt = document.getElementById('outputPrompt');
          let statements = [];
          
          if (outputPrompt && outputPrompt.textContent.trim()) {
            // Extract just the statements from the prompt
            const lines = outputPrompt.textContent.split('\n');
            for (const line of lines) {
              // Skip empty lines and instructions
              if (line.trim() && !line.includes('IMPORTANT:') && !line.includes('Please create') && !line.includes('No explanatory')) {
                statements.push(line.trim());
              }
            }
          }
          
          // Update the template content
          const templateContent = document.getElementById('templateContent');
          if (templateContent) {
            if (statements.length > 0) {
              templateContent.textContent = statements.join('\n\n');
              
              // Update character and line counts
              updateCounters(templateContent.textContent, template.characterLimit, template.lineLimit);
            } else {
              templateContent.textContent = "[Performance statements will appear here]";
              formatStatus.innerHTML = '<span style="color: #dc3545;">⚠️ No content to check</span>';
            }
          }
        }
      }
      
      // Update character and line counters
      function updateCounters(text, charLimit, lineLimit) {
        if (!text) return;
        
        // Check character count
        const chars = text.length;
        charCount.textContent = `${chars}/${charLimit}`;
        charCount.style.color = chars > charLimit ? '#dc3545' : '#155724';
        
        // Check line count
        const lines = text.split('\n').filter(line => line.trim());
        lineCount.textContent = `${lines.length}/${lineLimit}`;
        lineCount.style.color = lines.length > lineLimit ? '#dc3545' : '#155724';
        
        // Update format status
        if (chars > charLimit || lines.length > lineLimit) {
          formatStatus.innerHTML = '<span style="color: #dc3545;">❌ Exceeds limits</span>';
        } else {
          formatStatus.innerHTML = '<span style="color: #28a745;">✅ Compliant with format</span>';
        }
      }
      
      // Copy formatted text button
      if (copyFormattedButton) {
        copyFormattedButton.addEventListener('click', function() {
          const templateContent = document.getElementById('templateContent');
          if (templateContent && templateContent.textContent !== "[Performance statements will appear here]") {
            navigator.clipboard.writeText(templateContent.textContent)
              .then(() => {
                copyFormattedButton.innerHTML = '<span class="button-icon">✓</span> Copied!';
                setTimeout(() => {
                  copyFormattedButton.innerHTML = '<span class="button-icon">📋</span> Copy Formatted Text';
                }, 2000);
              })
              .catch(err => {
                alert("Copy failed. Please select and copy the text manually.");
              });
          } else {
            alert("No performance statements to copy.");
          }
        });
      }
      
      // Download as DOCX button
      if (downloadDocxButton) {
        downloadDocxButton.addEventListener('click', function() {
          const templateContent = document.getElementById('templateContent');
          if (templateContent && templateContent.textContent !== "[Performance statements will appear here]") {
            alert("This would download the content as a Word document. In a production environment, this would use a library like docx.js to create and download a proper DOCX file.");
          } else {
            alert("No performance statements to download.");
          }
        });
      }
      
      // Download as PDF button
      if (downloadPdfButton) {
        downloadPdfButton.addEventListener('click', function() {
          const templateContent = document.getElementById('templateContent');
          if (templateContent && templateContent.textContent !== "[Performance statements will appear here]") {
            alert("This would download the content as a PDF. In a production environment, this would use a library like jsPDF to create and download a proper PDF file.");
          } else {
            alert("No performance statements to download.");
          }
        });
      }
      
      // vPC Format button
      if (vpcButton) {
        vpcButton.addEventListener('click', function() {
          const templateContent = document.getElementById('templateContent');
          if (templateContent && templateContent.textContent !== "[Performance statements will appear here]") {
            // Format for vPC - typically needs plain text with specific spacing
            const vpcFormatted = templateContent.textContent.replace(/\n\n/g, '\n');
            navigator.clipboard.writeText(vpcFormatted)
              .then(() => {
                vpcButton.innerHTML = '<span class="button-icon">✓</span> Copied for vPC!';
                setTimeout(() => {
                  vpcButton.innerHTML = '<span class="button-icon">💻</span> Format for vPC';
                }, 2000);
              })
              .catch(err => {
                alert("Copy failed. Please select and copy the text manually.");
              });
          } else {
            alert("No performance statements to format.");
          }
        });
      }
      
      // myEval Format button
      if (myEvalButton) {
        myEvalButton.addEventListener('click', function() {
          const templateContent = document.getElementById('templateContent');
          if (templateContent && templateContent.textContent !== "[Performance statements will appear here]") {
            // Format for myEval - typically needs plain text with specific formatting
            const myEvalFormatted = templateContent.textContent.split('\n\n')
              .map(statement => statement.trim())
              .join('\n\n');
            
            navigator.clipboard.writeText(myEvalFormatted)
              .then(() => {
                myEvalButton.innerHTML = '<span class="button-icon">✓</span> Copied for myEval!';
                setTimeout(() => {
                  myEvalButton.innerHTML = '<span class="button-icon">💻</span> Format for myEval';
                }, 2000);
              })
              .catch(err => {
                alert("Copy failed. Please select and copy the text manually.");
              });
          } else {
            alert("No performance statements to format.");
          }
        });
      }
    });
    </script><script>
    document.addEventListener('DOMContentLoaded', function() {
      // Add CSS for alert cards
      const style = document.createElement('style');
      style.textContent = `
        .alert-card {
          padding: 15px;
          border-radius: 8px;
          margin-bottom: 10px;
          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .alert-card.success {
          background-color: #d4edda;
          border-left: 5px solid #28a745;
          color: #155724;
        }
        .alert-card.info {
          background-color: #d1ecf1;
          border-left: 5px solid #17a2b8;
          color: #0c5460;
        }
        .alert-card.warning {
          background-color: #fff3cd;
          border-left: 5px solid #ffc107;
          color: #856404;
        }
        .alert-card.danger {
          background-color: #f8d7da;
          border-left: 5px solid #dc3545;
          color: #721c24;
        }
        .alert-card ul {
          margin-top: 10px;
          margin-bottom: 0;
          padding-left: 20px;
        }
        .alert-card strong {
          font-weight: 600;
        }
      `;
      document.head.appendChild(style);
      
      // List of common USAF exercise names to check for (case-insensitive)
      const exerciseNames = [
        "RED FLAG",
        "COLD RESPONSE",
        "VIGILANT SHIELD",
        "COPE NORTH",
        "GREEN FLAG",
        "BLUE FLAG",
        "NORTHERN EDGE",
        "ATLAS RESPONSE",
        "RAPID FORGE",
        "ARCTIC EDGE",
        // New specific exercises
        "ADAMANT SERPENT",
        "PYRENEES HAAR",
        "FLUID CRADLE",
        "HALYARD FLYOVER",
        "PRINSTINE FLANK",
        "56/57 RQS METL",
        "ROMANIAN BILAT",
        "NAS SUDA BAY TAAR",
        "RAF MILDENHALL MLAT",
        "17 STORMO MFF",
        "LATVIA SOALI"
      ];

      // Exercise name substitution suggestions
      const exerciseSubstitutions = {
        "RED FLAG": "aerial combat training exercise",
        "COLD RESPONSE": "cold-weather joint operations training",
        "VIGILANT SHIELD": "homeland defense exercise",
        "COPE NORTH": "Pacific region joint training exercise",
        "GREEN FLAG": "air-land integration combat training",
        "BLUE FLAG": "command and control exercise",
        "NORTHERN EDGE": "Alaska-based joint force training",
        "ATLAS RESPONSE": "European theater security cooperation exercise",
        "RAPID FORGE": "forward deployment readiness exercise",
        "ARCTIC EDGE": "Arctic joint force training event",
        
        // New specific exercise replacements with concise descriptions
        "ADAMANT SERPENT": "NATO Bilateral Nordic Readiness Integration exercise",
        "PYRENEES HAAR": "combat readiness and interoperability exercise with allied forces",
        "FLUID CRADLE": "helicopter aerial refueling exercise",
        "HALYARD FLYOVER": "commemorative flyover operation",
        "PRINSTINE FLANK": "Finnish-led military exercise",
        "56/57 RQS METL": "combat search and rescue readiness exercise",
        "ROMANIAN BILAT": "Romanian bilateral exercise",
        "NAS SUDA BAY TAAR": "Tactical Aerial Refueling operations",
        "RAF MILDENHALL MLAT": "Multilateral Exercise integrating Special Tactics capabilities",
        "17 STORMO MFF": "high-altitude airdrop integration exercise",
        "LATVIA SOALI": "fast rope techniques training exercise"
      };
      
      // Additional exercise details for prompt enhancement (not for direct replacement)
      const exerciseDetails = {
        "ADAMANT SERPENT": "Key Data Points: Spearheaded groundbreaking NATO Bilateral Nordic Readiness Integration exercise by integrating U.S. C-130s with Swedish Link-16, conducting first Gotland Island personnel airdrop in 3 years, and accessing Sweden's SFINX network. Impact: directly enhancing Allied combat readiness and strategic deterrence in the Baltic region.",
        
        "PYRENEES HAAR": "Key Data Points: Demonstrated ability to perform complex tactical movements and regroup effectively in challenging field conditions. Impact: Enhancing combat readiness and interoperability with allied forces.",
        
        "FLUID CRADLE": "Key Data Points: Successfully refueled a 56th Rescue Squadron HH-60G Pave Hawk helicopter with 1.4K lbs of fuel. Impact: Supporting critical mission readiness & demonstrating aerial refueling capabilities.",
        
        "HALYARD FLYOVER": "Key Data Points: Executed 6 sorties totaling 14.2 flight hours & conducted a pivotal flyover for the 80th anniversary commemoration of Operation Halyard, featuring 2 passes with MFF jumps by US & Serbian teams. Impact: Reinforcing partnership & paying tribute to the largest rescue of American airmen in WWII history.",
        
        "PRINSTINE FLANK": "Key Data Points: Executed critical support for Finnish led military exercise, conducting Highway Landing Zone operations and Forward Area Arming and Refueling with Finnish Air Force F-18s. Impact: Directly enhancing AFSOC's Agile Combat Employment capabilities & strengthening NATO interoperability in austere environments.",
        
        "56/57 RQS METL": "Key Data Points: Executed critical support for 56/57 RQS operations by delivering 2 MRZRs & 10 personnel for advanced CASEVAC training, facilitating the transport of 30 personnel to Aviano AB, and conducting Helicopter Air-to-Air Refueling with 56 RQS. Impact: Directly enabling 1 MC & 1 Flight Lead upgrade while significantly enhancing combat search and rescue readiness & interoperability.",
        
        "ROMANIAN BILAT": "Key Data Points: The 352d SOW supported a Romanian bilateral exercise by flying in extended trail formation with C-47 aircraft. Impact: Enhancing joint operational capabilities & strengthening partnerships between US & Romanian forces.",
        
        "NAS SUDA BAY TAAR": "Key Data Points: The 352d SOW supported NSA Souda Bay by conducting Tactical Aerial Refueling (TAAR) operations using C-27 aircraft. Impact: Enhancing operational flexibility and readiness for joint missions in the Eastern Mediterranean region.",
        
        "RAF MILDENHALL MLAT": "Key Data Points: Executed critical support for Multilateral Exercise, integrating Special Tactics Airmen with 1-10th SFG, & NSW Operators to enhance SOF interoperability. Impact: Validate crisis response capabilities, & strengthen SOCEUR's tactical readiness in the European theater.",
        
        "17 STORMO MFF": "Key Data Points: Supported 17th Stormo's Military Free Fall operations at FL240, requiring 100% oxygen pre-breathing. Impact: Enhancing joint capabilities & demonstrating effective integration between US & Italian SOF in high-altitude airdrop scenarios.",
        
        "LATVIA SOALI": "Key Data Points: Supported the Latvia Special Operations Air Liaison Initiative by qualifying 13 Latvian SOF personnel in fast rope techniques from a UH-60 helicopter. Impact: Enhancing their operational capabilities & interoperability with US forces."
      };

      // Keywords/phrases that might indicate CUI (Controlled Unclassified Information)
      const cuiPatterns = [
        // Operational security (OPSEC) indicators
        {pattern: /\b(classified|secret|top\s*secret|ts|ts\/sci|sci)\b/gi, type: "classification markings"},
        {pattern: /\b(fouo|for\s*official\s*use\s*only|cui|controlled\s*unclassified\s*information)\b/gi, type: "controlled markings"},
        
        // Personally Identifiable Information (PII)
        {pattern: /\b\d{3}[-\s]?\d{2}[-\s]?\d{4}\b/g, type: "potential SSN"},
        {pattern: /\b[A-Z]{2}\d{7}\b/g, type: "potential DoD ID number"},
        
        // System information
        {pattern: /\b((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/g, type: "IP address"},
        {pattern: /\b([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})\b/g, type: "MAC address"},
        
        // Specific operational details
        {pattern: /\b(targeting|target\s*coordinates|planned\s*attack|planned\s*operation|operational\s*plan|deployment\s*timeline)\b/gi, type: "operational details"},
        
        // System configuration
        {pattern: /\b(network\s*configuration|system\s*vulnerability|security\s*weakness|password|credentials)\b/gi, type: "system configuration information"},
        
        // Specific locations or times of operations
        {pattern: /\b(forward\s*operating\s*base|FOB|exact\s*coordinates|lat(itude)?\.?\s*\d|long(itude)?\.?\s*\d)\b/gi, type: "specific locations"},
        
        // Force strength or capabilities
        {pattern: /\b(force\s*strength|unit\s*readiness|combat\s*capability|troops\s*available|specific\s*aircraft\s*count)\b/gi, type: "force capabilities"}
      ];
      
      // Find the CUI SCRUB button and add the click event
      const scanButton = document.getElementById('scanButton');
      
      if (scanButton) {
        scanButton.addEventListener('click', function() {
          // Perform the CUI scan
          const textArea = document.getElementById('accomplishment');
          const alertsDiv = document.getElementById('alerts');
          
          if (!textArea || !alertsDiv) {
            console.error("Required elements not found");
            return;
          }
          
          let inputText = textArea.value;
          let outputText = inputText;
          let alerts = [];
          let exerciseDetections = [];
          let cuiDetections = [];
          
          // Clear previous alerts
          alertsDiv.innerHTML = '';
          
          // Skip processing if input is empty
          if (!inputText.trim()) {
            alertsDiv.innerHTML = '<div class="alert-card info">No text to scan. Please enter your accomplishment details.</div>';
            return;
          }
          
          // Scan for exercise names
          exerciseNames.forEach(exercise => {
            // Create a regex to find the exercise name (case insensitive)
            const regex = new RegExp('\\b' + exercise.replace(/\s+/g, '\\s+') + '\\b', 'i');
            
            if (regex.test(inputText)) {
              // Create a friendly suggestion
              const suggestion = exerciseSubstitutions[exercise.toUpperCase()] || 
                                "a description of the exercise purpose";
              
              // Find all matches to replace
              let match;
              const foundExercises = [];
              const tempRegex = new RegExp('\\b' + exercise.replace(/\s+/g, '\\s+') + '\\b', 'gi');
              
              while ((match = tempRegex.exec(inputText)) !== null) {
                foundExercises.push({
                  name: match[0],
                  index: match.index,
                  length: match[0].length
                });
              }
              
              exerciseDetections.push({
                exerciseName: exercise,
                matches: foundExercises,
                suggestion: suggestion
              });
            }
          });
          
          // Scan for potential CUI patterns
          cuiPatterns.forEach(pattern => {
            try {
              // String.prototype.matchAll is not fully supported in all browsers
              // So we'll use a more compatible approach with exec
              const regex = pattern.pattern;
              const matches = [];
              let match;
              
              // Reset regex to start from beginning
              if (regex.global) {
                regex.lastIndex = 0;
              }
              
              // Find all matches
              while ((match = regex.exec(inputText)) !== null) {
                matches.push({
                  text: match[0],
                  index: match.index,
                  length: match[0].length
                });
                
                // Prevent infinite loops for non-global regex
                if (!regex.global) break;
              }
              
              if (matches.length > 0) {
                console.log(`Found ${matches.length} matches for pattern type: ${pattern.type}`);
                
                cuiDetections.push({
                  type: pattern.type,
                  matches: matches
                });
              }
            } catch (e) {
              console.error("Error with pattern matching:", e, pattern);
            }
          });
          
          // Process exercise name detections
          if (exerciseDetections.length > 0) {
            // Sort detections by their index in reverse order to replace from end to beginning
            let allMatches = [];
            exerciseDetections.forEach(detection => {
              detection.matches.forEach(match => {
                allMatches.push({
                  text: match.name,
                  index: match.index,
                  length: match.length,
                  suggestion: detection.suggestion
                });
              });
            });
            
            // Sort in reverse order of index
            allMatches.sort((a, b) => b.index - a.index);
            
            // Replace exercise names with suggestions
            allMatches.forEach(match => {
              outputText = 
                outputText.substring(0, match.index) + 
                match.suggestion + 
                outputText.substring(match.index + match.length);
              
              // Add alert
              alerts.push(`<div class="alert-card warning">
                <strong>Exercise name detected:</strong> "${match.text}" has been replaced with "${match.suggestion}" per 352 SOW policies.
              </div>`);
            });
          }
          
          // Generate CUI alerts
          if (cuiDetections.length > 0) {
            alerts.push(`<div class="alert-card danger">
              <strong>⚠️ Potential CUI detected:</strong> Please review and modify the following sensitive information per USAF/DAF CUI regulations:
              <ul>
                ${cuiDetections.map(detection => 
                  `<li>${detection.type.charAt(0).toUpperCase() + detection.type.slice(1)}: ${detection.matches.map(m => `"${m.text}"`).join(', ')}</li>`
                ).join('')}
              </ul>
            </div>`);
          }
          
          // Update the text area and display alerts
          if (alerts.length > 0) {
            textArea.value = outputText;
            alertsDiv.innerHTML = alerts.join('');
          } else {
            alertsDiv.innerHTML = '<div class="alert-card success">No potential CUI or exercise names detected.</div>';
          }
        });
        
        console.log("CUI SCRUB button functionality added successfully");
      } else {
        console.error("CUI SCRUB button not found");
      }
    });
    </script><!DOCTYPE html>
<html>
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5M07SFV1BF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-5M07SFV1BF');
</script>
    <title>352 SOW AI Prompt Generator</title>
    <style>
        :root {
            --air-force-blue: #0033a0;
            --air-force-dark: #001f60;
            --air-force-light: #5d8aa8;
            --accent-color: #00c6ff;
            --accent-glow: rgba(0, 198, 255, 0.5);
            --light-bg: #f5f7fa;
            --dark-text: #2c3e50;
            --success-color: #2ecc71;
            --card-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            --input-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
            --button-shadow: 0 4px 10px rgba(0, 51, 160, 0.25);
            --button-active-shadow: 0 2px 5px rgba(0, 51, 160, 0.4);
        }
        
        @import url('https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Exo 2', 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--light-bg);
            color: var(--dark-text);
            line-height: 1.6;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(93, 138, 168, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(0, 51, 160, 0.07) 0%, transparent 25%);
            background-attachment: fixed;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding:
            30px;
        }
        
        header {
            background: linear-gradient(135deg, var(--air-force-blue) 0%, var(--air-force-dark) 100%);
            color: white;
            text-align: center;
            padding: 40px 20px;
            border-bottom: 5px solid var(--accent-color);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 60%);
            opacity: 0.5;
            pointer-events: none;
        }
        
        h1 {
            margin: 0;
            font-size: 2.4rem;
            font-weight: 700;
            letter-spacing: 0.5px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .subtitle {
            margin-top: 10px;
            font-weight: 300;
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .card {
            background-color: white;
            border-radius: 12px;
            box-shadow: var(--card-shadow);
            margin-bottom: 30px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid rgba(0, 51, 160, 0.1);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.2);
        }
        
        .card-header {
            background: linear-gradient(to right, var(--air-force-blue), var(--air-force-light));
            color: white;
            padding: 18px 25px;
            font-size: 1.2rem;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }
        
        .card-body {
            padding: 25px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--air-force-blue);
            letter-spacing: 0.3px;
        }
        
        input[type="text"], textarea, select {
            width: 100%;
            padding: 14px;
            border: 2px solid rgba(93, 138, 168, 0.3);
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            box-sizing: border-box;
            transition: all 0.3s;
            box-shadow: var(--input-shadow);
            background-color: rgba(255, 255, 255, 0.8);
        }
        
        input[type="text"]:focus, textarea:focus, select:focus {
            border-color: var(--accent-color);
            outline: none;
            box-shadow: 0 0 0 4px var(--accent-glow);
            background-color: white;
        }
        
        textarea {
            min-height: 140px;
            resize: vertical;
        }
        
        button {
            background: linear-gradient(to right, var(--air-force-blue), var(--air-force-dark));
            color: white;
            border: none;
            padding: 14px 24px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--button-shadow);
            position: relative;
            overflow: hidden;
            letter-spacing: 0.5px;
        }
        
        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(255,255,255,0.15) 0%, transparent 100%);
            pointer-events: none;
        }
        
        button:hover {
            background: linear-gradient(to right, #0040c5, var(--air-force-blue));
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 51, 160, 0.35);
        }
        
        button:active {
            transform: translateY(1px) scale(0.98);
            box-shadow: var(--button-active-shadow);
            background: linear-gradient(to right, var(--air-force-dark), #002380);
        }
        
        .button-icon {
            margin-right: 10px;
            font-size: 1.1em;
        }
        
        .copy-button {
            background: linear-gradient(to right, var(--success-color), #27ae60);
            margin-top: 20px;
        }
        
        .copy-button:hover {
            background: linear-gradient(to right, #2ecc71, #25a25a);
            box-shadow: 0 6px 15px rgba(46, 204, 113, 0.35);
        }
        
        .copy-button:active {
            background: linear-gradient(to right, #27ae60, #219955);
        }
        
        .output-container {
            margin-top: 20px;
            display: none;
        }
        
        .output-box {
            background-color: #f7f9fc;
            border: 1px solid rgba(93, 138, 168, 0.3);
            border-radius: 8px;
            padding: 20px;
            white-space: pre-wrap;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.95rem;
            max-height: 400px;
            overflow-y: auto;
            box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.08);
            line-height: 1.6;
            color: #34495e;
        }
        
        .toggle-section {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
            padding: 6px 12px;
            border-radius: 20px;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            box-shadow: none;
        }
        
        .toggle-section:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: none;
            box-shadow: none;
        }
        
        .toggle-section:active {
            transform: none;
            box-shadow: none;
        }
        
        .reference-section {
            background-color: #fffde7;
            border-left: 5px solid var(--accent-color);
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 0 8px 8px 0;
            box-shadow: var(--input-shadow);
        }
        
        .reference-heading {
            font-weight: 600;
            margin-top: 0;
            margin-bottom: 15px;
            color: var(--air-force-blue);
        }
        
        .example {
            margin-top: 15px;
            padding: 15px;
            background-color: #f5f7fa;
            border-left: 4px solid var(--air-force-light);
            border-radius: 0 8px 8px 0;
        }
        
        .hidden {
            display: none;
        }
        
        .alq-container {
            margin-top: 10px;
            border: 2px solid rgba(93, 138, 168, 0.3);
            border-radius: 8px;
            padding: 20px;
            background-color: #f9fafb;
            box-shadow: var(--input-shadow);
            transition: all 0.3s;
        }
        
        .alq-container:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-color: rgba(93, 138, 168, 0.5);
        }
        
        .alq-group {
            margin-bottom: 20px;
        }
        
        .alq-header {
            color: var(--air-force-blue);
            margin-top: 0;
            margin-bottom: 12px;
            border-bottom: 2px solid rgba(93, 138, 168, 0.2);
            padding-bottom: 8px;
            font-weight: 600;
            display: flex;
            align-items: center;
            font-size: 1.4rem;
        }
        
        .alq-header::before {
            content: '';
            display: inline-block;
            width: 12px;
            height: 12px;
            background-color: var(--air-force-blue);
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .alq-options {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 5px;
        }
        
        .alq-checkbox {
            position: absolute;
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .alq-label {
            display: flex;
            align-items: center;
            background-color: white;
            padding: 10px 15px;
            border-radius: 8px;
            border: 2px solid rgba(93, 138, 168, 0.2);
            cursor: pointer;
            width: calc(33% - 12px);
            min-width: 200px;
            margin: 0;
            transition: all 0.2s;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
        }
        
        .alq-checkbox:checked + .alq-label {
            background-color: rgba(0, 51, 160, 0.1);
            border-color: var(--air-force-blue);
            box-shadow: 0 0 0 3px var(--accent-glow);
            transform: translateY(-2px);
        }
        
        .alq-checkbox:focus + .alq-label {
            box-shadow: 0 0 0 3px var(--accent-glow);
        }
        
        .alq-checkbox + .alq-label .alq-checkmark {
            display: inline-block;
            width: 18px;
            height: 18px;
            background-color: white;
            border: 2px solid rgba(93, 138, 168, 0.4);
            border-radius: 4px;
            margin-right: 10px;
            position: relative;
            transition: all 0.2s;
        }
        
        .alq-checkbox:checked + .alq-label .alq-checkmark {
            background-color: var(--air-force-blue);
            border-color: var(--air-force-blue);
        }
        
        .alq-checkbox:checked + .alq-label .alq-checkmark::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 6px;
            width: 4px;
            height: 8px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }
        
        .alq-desc-btn {
            background: none;
            border: none;
            color: var(--air-force-blue);
            cursor: pointer;
            font-size: 0.9rem;
            text-decoration: underline;
            padding: 0;
            margin-top: 15px;
            box-shadow: none;
            transition: color 0.2s;
            display: inline-block;
            text-align: right;
            align-self: flex-end;
        }
        
        .alq-desc-btn:hover {
            color: var(--accent-color);
            text-decoration: underline;
            background: none;
            box-shadow: none;
            transform: none;
        }
        
        .alq-desc-container {
            margin-top: 15px;
            padding: 15px;
            background-color: #f0f0f0;
            border-radius: 8px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .alq-desc-heading {
            margin-top: 0;
            color: var(--air-force-blue);
            font-weight: 600;
        }
        
        .alq-desc-list {
            padding-left: 20px;
            margin-bottom: 0;
            line-height: 1.8;
        }
        
        .ai-resource-link {
            display: inline-flex;
            align-items: center;
            background: linear-gradient(135deg, var(--air-force-blue), var(--air-force-dark));
            color: white;
            text-decoration: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s;
            margin: 0 8px;
            box-shadow: var(--button-shadow);
            position: relative;
            overflow: hidden;
        }
        
        .ai-resource-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(255,255,255,0.15) 0%, transparent 100%);
            pointer-events: none;
        }
        
        .ai-resource-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 51, 160, 0.3);
        }
        
        .ai-resource-link:active {
            transform: translateY(1px) scale(0.98);
            box-shadow: var(--button-active-shadow);
        }
        
        .ai-resource-icon {
            margin-right: 10px;
        }
        
        .favorite-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: rgba(255, 255, 255, 0.25);
            border: 2px solid white;
            border-radius: 8px;
            padding: 8px 15px;
            color: white;
            display: flex;
            align-items: center;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 10;
            backdrop-filter: blur(2px);
        }
        
        .favorite-btn:hover {
            background-color: white;
            color: var(--air-force-blue);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        }
        
        .favorite-btn:active {
            transform: scale(0.98);
        }
        
        .favorite-icon {
            margin-right: 8px;
            font-size: 1.2em;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: var(--dark-text);
            font-size: 0.9rem;
            margin-top: 20px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .card-header {
                padding: 15px 20px;
                font-size: 1.1rem;
            }
            
            .card-body {
                padding: 20px;
            }
            
            .alq-label {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <button id="addToFavorites" class="favorite-btn" onclick="showBookmarkInstructions()">
            <span class="favorite-icon">⭐</span> Add to Favorites
        </button>
        <h1>352 SOW AI Prompt Generator</h1>
        <div class="subtitle">Create optimized prompts for AF Form 1206 and weekly reports based on official guidance</div>
    </header>
    
    <!-- Classification Reminder Banner - Top -->
    <div style="background-color: #4CAF50; color: #000; text-align: center; padding: 10px; margin-bottom: 20px; border: 2px solid #2E7D32; border-left: 10px solid #2E7D32;">
        <strong style="font-size: 1.1rem;">⚠️ REMINDER: ONLY INPUT UNCLASSIFIED INFORMATION ⚠️</strong>
        <p style="margin: 5px 0 0 0;">All content entered must be appropriate for public release</p>
    </div>
    
    <div class="container">
        <div class="card">
            <div class="card-header">
                <span>Input Information</span>
                <button id="toggleReference" class="toggle-section" title="Show/Hide Reference">ⓘ Show Guidance</button>
            </div>
            
            <div id="referenceSection" class="reference-section hidden">
                <h3 class="reference-heading">Official USAF Performance Statement Guidance:</h3>
                <p>Performance Statements are the AF narrative-style of writing to communicate performance on the AF Form 1206, Nomination for Award (13 Mar 2024). They are efficient, increase clarity, and improve the ability to understand an Airman's performance correctly and equitably.</p>
                
                <h4>Two Basic Principles:</h4>
                <ul>
                    <li><strong>Standalone:</strong> Each Performance Statement is a standalone sentence and includes 1) action and 2) at least one of the following: impact or results/outcome.</li>
                    <li><strong>Readability:</strong> Performance Statements are plain language and avoid using uncommon acronyms and abbreviations.</li>
                </ul>
                
                <h4>Format:</h4>
                <ul>
                    <li>AF Form 1206, Nomination for Award (13 Mar 2024) remains the standard</li>
                    <li>White space on the right margin is both accepted and expected</li>
                    <li>No award nomination criteria may exceed one full page</li>
                    <li>Bullets are not authorized</li>
                </ul>
                
                <h4>Example:</h4>
                <div class="example">
                    <p><strong>Action and Impact or Results/Outcome:</strong></p>
                    <p>Capt Snuffy <strong>led</strong> a survey team of 33 MCA to establish an XAB in support of a PACAF ACE exercise across 4 countries and including 7 allies, <strong>culminating</strong> in 153 sorties and 334 training events completed. She also <strong>championed</strong> a critical organizational merger of the squadron's maintenance and operations; results <strong>saved</strong> 360 maintenance workhours per week and <strong>increased</strong> sortie generation by 10%.</p>
                </div>
            </div>
            
            <div class="card-body">
                <div class="form-group">
                    <label for="jobTitle">Job Title/AFSC:</label>
                    <select id="jobTitle" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;">
                        <option value="">-- Select Your AFSC/Job Title --</option>
                        <option value="DOD Government Civilian">DOD Government Civilian</option>
                        <optgroup label="Officer AFSCs">
                            <option value="11S - Special Operations Pilot">11S - Special Operations Pilot</option>
                            <option value="12S - Special Operations Combat Systems Officer">12S - Special Operations Combat Systems Officer</option>
                            <option value="14F - Information Operations Officer">14F - Information Operations Officer</option>
                            <option value="14N - Intelligence Officer">14N - Intelligence Officer</option>
                            <option value="15W - Weather Officer">15W - Weather Officer</option>
                            <option value="17D - Cyberspace Operations Officer">17D - Cyberspace Operations Officer</option>
                            <option value="18S - Special Reconnaissance Officer">18S - Special Reconnaissance Officer</option>
                            <option value="19Z - Special Warfare Officer">19Z - Special Warfare Officer</option>
                            <option value="21A - Aircraft Maintenance Officer">21A - Aircraft Maintenance Officer</option>
                            <option value="21R - Logistics Readiness Officer">21R - Logistics Readiness Officer</option>
                            <option value="31P - Security Forces Officer">31P - Security Forces Officer</option>
                            <option value="32E - Civil Engineer">32E - Civil Engineer</option>
                            <option value="35P - Public Affairs Officer">35P - Public Affairs Officer</option>
                            <option value="38F - Force Support Officer">38F - Force Support Officer</option>
                            <option value="41A - Health Services Administrator">41A - Health Services Administrator</option>
                            <option value="51J - Judge Advocate">51J - Judge Advocate</option>
                            <option value="52R - Chaplain">52R - Chaplain</option>
                            <option value="65F - Financial Management Officer">65F - Financial Management Officer</option>
                            <option value="87I - Contracting Officer">87I - Contracting Officer</option>
                            <option value="9E0 - Logistics Readiness Officer">9E0 - Logistics Readiness Officer</option>
                        </optgroup>
                        <optgroup label="Enlisted AFSCs">
                            <option value="1A1 - Flight Engineer">1A1 - Flight Engineer</option>
                            <option value="1C0 - Aviation Resource Management">1C0 - Aviation Resource Management</option>
                            <option value="1C1 - Air Traffic Control">1C1 - Air Traffic Control</option>
                            <option value="1C3 - Command and Control Operations">1C3 - Command and Control Operations</option>
                            <option value="1C8 - Radar, Airfield & Weather Systems">1C8 - Radar, Airfield & Weather Systems</option>
                            <option value="1D7 - Cyber Defense Operations">1D7 - Cyber Defense Operations</option>
                            <option value="1N0 - All-Source Intelligence Analyst">1N0 - All-Source Intelligence Analyst</option>
                            <option value="1N1 - Geospatial Intelligence">1N1 - Geospatial Intelligence</option>
                            <option value="1N2 - Signals Intelligence Analyst">1N2 - Signals Intelligence Analyst</option>
                            <option value="1N4 - Fusion Analyst">1N4 - Fusion Analyst</option>
                            <option value="1N7 - Human Intelligence Specialist">1N7 - Human Intelligence Specialist</option>
                            <option value="1P0 - Aircrew Flight Equipment">1P0 - Aircrew Flight Equipment</option>
                            <option value="1S0 - Safety">1S0 - Safety</option>
                            <option value="1T0 - Survival, Evasion, Resistance & Escape (SERE) Specialist">1T0 - Survival, Evasion, Resistance & Escape (SERE) Specialist</option>
                            <option value="1W0 - Weather">1W0 - Weather</option>
                            <option value="1Z1 - Pararescue">1Z1 - Pararescue</option>
                            <option value="1Z2 - Combat Control">1Z2 - Combat Control</option>
                            <option value="1Z3 - TACP">1Z3 - TACP</option>
                            <option value="1Z4 - Special Reconnaissance">1Z4 - Special Reconnaissance</option>
                            <option value="2A5 - Aerospace Maintenance">2A5 - Aerospace Maintenance</option>
                            <option value="2A6 - Aerospace Propulsion">2A6 - Aerospace Propulsion</option>
                            <option value="2A9 - Aerospace Maintenance (Non-Destructive Inspection)">2A9 - Aerospace Maintenance (Non-Destructive Inspection)</option>
                            <option value="2G0 - Logistics Plans">2G0 - Logistics Plans</option>
                            <option value="2R2 - Maintenance Management">2R2 - Maintenance Management</option>
                            <option value="2S0 - Materiel Management">2S0 - Materiel Management</option>
                            <option value="2T2 - Air Transportation">2T2 - Air Transportation</option>
                            <option value="2W0 - Munitions Systems">2W0 - Munitions Systems</option>
                            <option value="2W1 - Aircraft Armament Systems">2W1 - Aircraft Armament Systems</option>
                            <option value="3E0 - Electrical Systems">3E0 - Electrical Systems</option>
                            <option value="3E5 - Engineering">3E5 - Engineering</option>
                            <option value="3E9 - Explosive Ordnance Disposal">3E9 - Explosive Ordnance Disposal</option>
                            <option value="3F0 - Personnel">3F0 - Personnel</option>
                            <option value="3F2 - Education and Training">3F2 - Education and Training</option>
                            <option value="3F3 - Manpower">3F3 - Manpower</option>
                            <option value="3F5 - Administration">3F5 - Administration</option>
                            <option value="3N0 - Public Affairs">3N0 - Public Affairs</option>
                            <option value="3P0 - Security Forces">3P0 - Security Forces</option>
                            <option value="4A1 - Medical Materiel">4A1 - Medical Materiel</option>
                            <option value="4B0 - Bioenvironmental Engineering">4B0 - Bioenvironmental Engineering</option>
                            <option value="4N0 - Aerospace Medical Service">4N0 - Aerospace Medical Service</option>
                            <option value="5J0 - Paralegal">5J0 - Paralegal</option>
                            <option value="5R0 - Chaplain Assistant">5R0 - Chaplain Assistant</option>
                            <option value="6F0 - Financial Management and Comptroller">6F0 - Financial Management and Comptroller</option>
                            <option value="8F0 - First Sergeant">8F0 - First Sergeant</option>
                            <option value="8I0 - Inspector General">8I0 - Inspector General</option>
                        </optgroup>
                        <option value="other">Other (Specify Below)</option>
                    </select>
                </div>
                
                <!-- AFSC Examples Section -->
                <div id="afscExamplesSection" class="hidden form-group">
                    <div class="card" style="margin-bottom: 25px; transform: none; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);">
                        <div class="card-header" style="background: linear-gradient(to right, #2E7D32, #4CAF50);">
                            <span id="afscExamplesTitle">AFSC-Specific Examples</span>
                            <button id="toggleExamples" class="toggle-section" title="Show/Hide Examples">Show Examples</button>
                        </div>
                        <div id="afscExamplesContent" class="card-body hidden" style="padding: 0;">
                            <div style="padding: 20px 25px;">
                                <div class="search-filter-container" style="margin-bottom: 20px;">
                                    <input type="text" id="exampleSearch" placeholder="Search examples..." style="margin-bottom: 10px;">
                                    <div class="filter-options" style="display: flex; flex-wrap: wrap; gap: 10px;">
                                        <button class="filter-btn active" data-filter="all" style="background: var(--air-force-blue); color: white; border: none; padding: 6px 12px; border-radius: 20px; font-size: 0.9rem; cursor: pointer;">All ALQs</button>
                                        <button class="filter-btn" data-filter="executing" style="background: #f0f0f0; color: var(--dark-text); border: none; padding: 6px 12px; border-radius: 20px; font-size: 0.9rem; cursor: pointer;">Executing the Mission</button>
                                        <button class="filter-btn" data-filter="leading" style="background: #f0f0f0; color: var(--dark-text); border: none; padding: 6px 12px; border-radius: 20px; font-size: 0.9rem; cursor: pointer;">Leading People</button>
                                        <button class="filter-btn" data-filter="managing" style="background: #f0f0f0; color: var(--dark-text); border: none; padding: 6px 12px; border-radius: 20px; font-size: 0.9rem; cursor: pointer;">Managing Resources</button>
                                        <button class="filter-btn" data-filter="improving" style="background: #f0f0f0; color: var(--dark-text); border: none; padding: 6px 12px; border-radius: 20px; font-size: 0.9rem; cursor: pointer;">Improving the Unit</button>
                                    </div>
                                </div>
                                
                                <div id="examplesList">
                                    <!-- Examples will be loaded here based on selected AFSC -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="otherJobField" class="form-group hidden">
                    <label for="otherJobTitle">Specify Job Title:</label>
                    <input type="text" id="otherJobTitle" placeholder="e.g., Program Manager, Mission Planner">
                </div>
                
                <div class="form-group">
                    <label for="unitName">Unit Name:</label>
                    <select id="unitName" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;">
                        <option value="">-- Select Your Unit --</option>
                        <option value="352 SOW">352 SOW</option>
                        <option value="352 SOTAOS">352 SOTAOS</option>
                        <option value="321 STS">321 STS</option>
                        <option value="67 SOS">67 SOS</option>
                        <option value="67 SOAMXS">67 SOAMXS</option>
                        <option value="7 SOS">7 SOS</option>
                        <option value="7 SOAMXS">7 SOAMXS</option>
                        <option value="other">Other Unit (Specify Below)</option>
                    </select>
                </div>
                
                <div id="otherUnitField" class="form-group hidden">
                    <label for="otherUnitName">Specify Unit Name:</label>
                    <input type="text" id="otherUnitName" placeholder="e.g., 48th Munitions Squadron">
                </div>

                <div class="form-group">
                    <label for="dutyTitle">Duty Title: <span style="background-color: #FF9800; color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.7rem; margin-left: 5px; vertical-align: middle;">BETA TESTING</span></label>
                    <select id="dutyTitle" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;">
                        <option value="">-- Select Duty Title --</option>
                        <option value="Commander">Commander</option>
                        <option value="Flight Commander">Flight Commander</option>
                        <option value="Section Chief">Section Chief</option>
                        <option value="NCOIC">NCOIC</option>
                    </select>
                </div>
                
                <div id="dutyDescriptionContainer" class="form-group hidden">
                    <label for="dutyDescription">Duty Description:</label>
                    <textarea id="dutyDescription" style="background-color: #f7f9fc;" readonly></textarea>
                    <div style="display: flex; justify-content: flex-end; margin-top: 10px;">
                        <button id="copyDutyDescription" class="copy-button" style="margin-top: 0; padding: 8px 15px; font-size: 0.9rem;">
                            <span class="button-icon">📋</span> Copy Description
                        </button>
                        <button id="editDutyDescription" style="margin-left: 10px; background: linear-gradient(to right, var(--air-force-light), var(--air-force-blue)); padding: 8px 15px; font-size: 0.9rem;">
                            <span class="button-icon">✏️</span> Edit
                        </button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="accomplishment">
                        Accomplishment: <span style="font-weight: normal;">Describe what you did with metrics in any format: bullet points, notes, sentences, or even stream of consciousness.</span>
                        <div style="float: right; display: flex; align-items: center;">
                            <label class="metrics-toggle">
                                <input type="checkbox" id="enableMetricsAnalyzer" checked>
                                <span style="margin-left: 5px; font-size: 0.9rem; color: var(--air-force-blue);">Metrics Analyzer</span>
                            </label>
                        </div>
                    </label>
                    <div style="position: relative;">
                        <textarea id="accomplishment" placeholder="Describe what you did with metrics in any format: bullet points, notes, sentences, or even stream of consciousness."></textarea>
                        <!-- Remove the overlay display -->
                    </div>
                    
                    <!-- Metrics Analysis Panel -->
                    <div id="metricsPanel" style="margin-top: 10px; border: 1px solid #ddd; border-radius: 8px; overflow: hidden;">
                        <div style="background: linear-gradient(to right, var(--air-force-light), var(--air-force-blue)); color: white; padding: 8px 15px; font-weight: 600; display: flex; justify-content: space-between; align-items: center;">
                            <span>Metrics Analysis</span>
                            <span id="metricsScore" style="background: rgba(255,255,255,0.3); padding: 2px 8px; border-radius: 10px; font-size: 0.9rem;">Impact Score: 0/10</span>
                        </div>
                        <div style="padding: 15px;">
                            <div id="extractedMetrics">
                                <div style="margin-bottom: 10px; color: #666; font-style: italic;">No metrics detected yet. Add numbers, percentages, dollar amounts, or timeframes to your accomplishment.</div>
                            </div>
                            <div id="suggestionPanel" style="margin-top: 15px; display: none;">
                                <div style="font-weight: 600; margin-bottom: 5px; color: var(--air-force-blue);">Suggestions to Improve Impact:</div>
                                <ul id="suggestionList" style="margin: 0; padding-left: 20px;"></ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Airman Leadership Quality (ALQ):</label>
                    <div class="alq-container">
                        <!-- Executing the Mission ALQs -->
                        <div class="alq-group">
                            <h4 class="alq-header">Executing the Mission</h4>
                            <div class="alq-options">
                                <input type="checkbox" id="alq1" name="alq" value="Job Proficiency" class="alq-checkbox">
                                <label for="alq1" class="alq-label">
                                    <span class="alq-checkmark"></span>
                                    <strong>Job Proficiency</strong>
                                </label>
                                
                                <input type="checkbox" id="alq2" name="alq" value="Initiative" class="alq-checkbox">
                                <label for="alq2" class="alq-label">
                                    <span class="alq-checkmark"></span>
                                    <strong>Initiative</strong>
                                </label>
                                
                                <input type="checkbox" id="alq3" name="alq" value="Adaptability" class="alq-checkbox">
                                <label for="alq3" class="alq-label">
                                    <span class="alq-checkmark"></span>
                                    <strong>Adaptability</strong>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Leading People ALQs -->
                        <div class="alq-group">
                            <h4 class="alq-header">Leading People</h4>
                            <div class="alq-options">
                                <input type="checkbox" id="alq4" name="alq" value="Inclusion & Teamwork" class="alq-checkbox">
                                <label for="alq4" class="alq-label">
                                    <span class="alq-checkmark"></span>
                                    <strong>Inclusion & Teamwork</strong>
                                </label>
                                
                                <input type="checkbox" id="alq5" name="alq" value="Emotional Intelligence" class="alq-checkbox">
                                <label for="alq5" class="alq-label">
                                    <span class="alq-checkmark"></span>
                                    <strong>Emotional Intelligence</strong>
                                </label>
                                
                                <input type="checkbox" id="alq6" name="alq" value="Communication" class="alq-checkbox">
                                <label for="alq6" class="alq-label">
                                    <span class="alq-checkmark"></span>
                                    <strong>Communication</strong>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Managing Resources ALQs -->
                        <div class="alq-group">
                            <h4 class="alq-header">Managing Resources</h4>
                            <div class="alq-options">
                                <input type="checkbox" id="alq7" name="alq" value="Stewardship" class="alq-checkbox">
                                <label for="alq7" class="alq-label">
                                    <span class="alq-checkmark"></span>
                                    <strong>Stewardship</strong>
                                </label>
                                
                                <input type="checkbox" id="alq8" name="alq" value="Accountability" class="alq-checkbox">
                                <label for="alq8" class="alq-label">
                                    <span class="alq-checkmark"></span>
                                    <strong>Accountability</strong>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Improving the Unit ALQs -->
                        <div class="alq-group">
                            <h4 class="alq-header">Improving the Unit</h4>
                            <div class="alq-options">
                                <input type="checkbox" id="alq9" name="alq" value="Decision Making" class="alq-checkbox">
                                <label for="alq9" class="alq-label">
                                    <span class="alq-checkmark"></span>
                                    <strong>Decision Making</strong>
                                </label>
                                
                                <input type="checkbox" id="alq10" name="alq" value="Innovation" class="alq-checkbox">
                                <label for="alq10" class="alq-label">
                                    <span class="alq-checkmark"></span>
                                    <strong>Innovation</strong>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Toggle ALQ descriptions button -->
                        <div style="text-align: right;">
                            <button id="toggleAlqDescriptions" type="button" class="alq-desc-btn">
                                Show ALQ Descriptions
                            </button>
                        </div>
                        
                        <!-- ALQ Descriptions (hidden by default) -->
                        <div id="alqDescriptions" class="hidden alq-desc-container">
                            <h4 class="alq-desc-heading">Airman Leadership Quality Definitions</h4>
                            <ul class="alq-desc-list">
                                <li><strong>Job Proficiency:</strong> Demonstrates technical expertise and excels in performing assigned duties.</li>
                                <li><strong>Initiative:</strong> Takes proactive action to seize opportunities without needing direction.</li>
                                <li><strong>Adaptability:</strong> Adjusts to changing conditions and maintains performance under pressure.</li>
                                <li><strong>Inclusion & Teamwork:</strong> Fosters collaboration and values diverse perspectives.</li>
                                <li><strong>Emotional Intelligence:</strong> Recognizes and manages personal emotions and those of others.</li>
                                <li><strong>Communication:</strong> Conveys ideas clearly and effectively at all organizational levels.</li>
                                <li><strong>Stewardship:</strong> Responsibly manages time, money, equipment, and personnel.</li>
                                <li><strong>Accountability:</strong> Takes ownership of actions and ensures tasks are completed to expectation.</li>
                                <li><strong>Decision Making:</strong> Analyzes situations and makes sound, timely choices.</li>
                                <li><strong>Innovation:</strong> Seeks creative solutions and implements improvements to enhance processes.</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="purpose">Purpose:</label>
                    <select id="purpose" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;">
                        <option value="award">Award Package (AF Form 1206)</option>
                        <option value="epr">Enlisted Performance Brief (EPB)</option>
                        <option value="opr">Officer Performance Brief (OPB)</option>
                        <option value="weekly">Weekly Civilian Performance</option>
                    </select>
                </div>
                
                <div style="display: flex; gap: 15px; margin-top: 30px;">
                    <button id="scanButton" class="button-primary" style="background: linear-gradient(135deg, #dc3545, #b21f2d);">
                        <span class="button-icon">🛡️</span> CUI SCRUB
                    </button>
                    <button id="generateButton" class="button-primary">
                        <span class="button-icon">📝</span> Generate AI Prompt
                    </button>
                </div>
                
                <!-- Alerts container -->
                <div id="alerts" style="margin-top: 20px;"></div>
            </div>
        </div>
        
        <div id="outputContainer" class="card output-container">
            <div class="card-header">
                <span>Generated AI Prompt</span>
            </div>
            <div class="card-body">
                <div id="outputPrompt" class="output-box"></div>
                <button id="copyButton" class="copy-button">
                    <span class="button-icon">📋</span> Copy Prompt to Clipboard
                </button>
            </div>
        </div>
    </div>
    
    <div class="container" style="padding-top: 0; padding-bottom: 10px;">
        <div class="card">
            <div class="card-header">
                <span>AI Resources</span>
            </div>
            <div class="card-body" style="padding: 15px 20px;">
                <p style="margin-top: 0;">Use your generated prompt with these AI tools:</p>
                <div style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center;">
                    <a href="https://chat-v2.niprgpt.mil/" target="_blank" rel="noopener noreferrer" class="ai-resource-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai-resource-icon"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>
                        NIPRGPT
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        USAF Performance Statement ChatGPT Prompt Generator | For official use only<br>
        <span style="font-size: 0.8rem;">Developed to assist USAF personnel in creating effective performance statements</span>
    </footer>

    <script>
        // Function to show bookmark instructions
        function showBookmarkInstructions() {
            let instructionMessage = '';
            
            if (navigator.userAgent.indexOf('Mac') !== -1) {
                // Mac users
                instructionMessage = 'Press Command+D to add this page to your favorites.';
            } else {
                // Windows/Linux users
                instructionMessage = 'Press Ctrl+D to add this page to your favorites.';
            }
            
            alert(instructionMessage);
        }

        // Function to check maximum ALQs selected
        function checkMaxSelected(checkbox) {
            const checkboxes = document.querySelectorAll('input[name="alq"]:checked');
            
            // If more than 3 are checked, uncheck the current one
            if (checkboxes.length > 3) {
                checkbox.checked = false;
                alert('You can select a maximum of 3 Airman Leadership Qualities.');
            }
        }
        
        // Wait for DOM to be loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Add the check to all ALQ checkboxes
            document.querySelectorAll('.alq-checkbox').forEach(checkbox => {
                checkbox.addEventListener('click', function() {
                    checkMaxSelected(this);
                });
            });
            
            // Toggle reference section
            document.getElementById('toggleReference').addEventListener('click', function() {
                const referenceSection = document.getElementById('referenceSection');
                referenceSection.classList.toggle('hidden');
                this.textContent = referenceSection.classList.contains('hidden') ? 'ⓘ Show Guidance' : '✕ Hide Guidance';
            });
            
            // Toggle ALQ descriptions
            document.getElementById('toggleAlqDescriptions').addEventListener('click', function() {
                const alqDescriptions = document.getElementById('alqDescriptions');
                alqDescriptions.classList.toggle('hidden');
                this.textContent = alqDescriptions.classList.contains('hidden') ? 'Show ALQ Descriptions' : 'Hide ALQ Descriptions';
            });
            
            // Handle AFSC examples display
            document.getElementById('jobTitle').addEventListener('change', function() {
                const otherJobField = document.getElementById('otherJobField');
                if (this.value === 'other') {
                    otherJobField.classList.remove('hidden');
                } else {
                    otherJobField.classList.add('hidden');
                }
                
                // Show AFSC examples if an AFSC is selected
                const afscExamplesSection = document.getElementById('afscExamplesSection');
                const afscExamplesTitle = document.getElementById('afscExamplesTitle');
                
                if (this.value && this.value !== 'other') {
                    afscExamplesSection.classList.remove('hidden');
                    afscExamplesTitle.textContent = `${this.value} Examples`;
                    loadExamples(this.value);
                } else {
                    afscExamplesSection.classList.add('hidden');
                }
            });
            
            // Toggle examples display
            document.getElementById('toggleExamples').addEventListener('click', function() {
                const examplesContent = document.getElementById('afscExamplesContent');
                examplesContent.classList.toggle('hidden');
                this.textContent = examplesContent.classList.contains('hidden') ? 'Show Examples' : 'Hide Examples';
            });
            
            // Show/hide other unit field
            document.getElementById('unitName').addEventListener('change', function() {
                const otherUnitField = document.getElementById('otherUnitField');
                if (this.value === 'other') {
                    otherUnitField.classList.remove('hidden');
                } else {
                    otherUnitField.classList.add('hidden');
                }
            });
            
            // Duty Title database
            const dutyDescriptions = {
                "Commander": "Leads XX-person wing-level operations directorate employing CV-22Bs, MC-130Js, C-146s, MH-60s, MH-47s, Special Tactics Teams & enablers across USINDOPACOM. Manages & executes $59M Flying Hour Program with 20 aircraft worth $1.9B and responsible for $XXXK annual budget. Directs wing current & future ops, C2, stan/eval, tactics, training, information operations, sensitive activities & capability development. Combat Special Operations CV-22B IP.",
                "Flight Commander": "Leads 15-person flight responsible for tactical operations and training. Manages flight scheduling and personnel readiness. Ensures compliance with regulations and standards. Develops and implements flight-level policies and procedures.",
                "Section Chief": "Manages 10-person section responsible for specialized operations. Oversees quality assurance and technical compliance. Coordinates with other sections and units to accomplish mission objectives.",
                "NCOIC": "Supervises 8-person team executing daily operations. Ensures training compliance and equipment readiness. Advises leadership on technical matters and personnel issues. Implements and enforces policies and standards."
            };
            
            // Handle duty title selection
            document.getElementById('dutyTitle').addEventListener('change', function() {
                const dutyDescriptionContainer = document.getElementById('dutyDescriptionContainer');
                const dutyDescription = document.getElementById('dutyDescription');
                
                if (this.value && dutyDescriptions[this.value]) {
                    dutyDescription.value = dutyDescriptions[this.value];
                    dutyDescriptionContainer.classList.remove('hidden');
                } else {
                    dutyDescriptionContainer.classList.add('hidden');
                }
            });
            
            // Copy duty description to clipboard
            document.getElementById('copyDutyDescription').addEventListener('click', function() {
                const dutyDescription = document.getElementById('dutyDescription');
                navigator.clipboard.writeText(dutyDescription.value)
                    .then(() => {
                        this.innerHTML = '<span class="button-icon">✓</span> Copied!';
                        setTimeout(() => {
                            this.innerHTML = '<span class="button-icon">📋</span> Copy Description';
                        }, 2000);
                    })
                    .catch(err => {
                        alert("Copy failed. Please select and copy the text manually.");
                    });
            });
            
            // Edit duty description
            document.getElementById('editDutyDescription').addEventListener('click', function() {
                const dutyDescription = document.getElementById('dutyDescription');
                const isReadOnly = dutyDescription.hasAttribute('readonly');
                
                if (isReadOnly) {
                    dutyDescription.removeAttribute('readonly');
                    dutyDescription.style.backgroundColor = 'white';
                    this.innerHTML = '<span class="button-icon">💾</span> Save';
                } else {
                    dutyDescription.setAttribute('readonly', true);
                    dutyDescription.style.backgroundColor = '#f7f9fc';
                    this.innerHTML = '<span class="button-icon">✏️</span> Edit';
                    
                    // Store the edited description in the database object
                    const dutyTitle = document.getElementById('dutyTitle').value;
                    if (dutyTitle) {
                        dutyDescriptions[dutyTitle] = dutyDescription.value;
                    }
                }
            });
            
            // Copy to clipboard function
            document.getElementById('copyButton').addEventListener('click', function() {
                const promptText = document.getElementById('outputPrompt').textContent;
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(promptText)
                        .then(() => {
                            this.innerHTML = '<span class="button-icon">✓</span> Copied!';
                            setTimeout(() => {
                                this.innerHTML = '<span class="button-icon">📋</span> Copy Prompt to Clipboard';
                            }, 2000);
                        })
                        .catch(err => {
                            alert("Copy failed. Please select and copy the text manually.");
                        });
                } else {
                    alert("Copy failed. Please select and copy the text manually.");
                }
            });
            
            // Load AFSC-specific examples
            function loadExamples(afsc) {
                const examplesList = document.getElementById('examplesList');
                examplesList.innerHTML = '';
                
                // AFSC Database of examples
                const afscExamples = {
                    // Special Operations examples
                    "11S - Special Operations Pilot": [
                        {category: "executing", alq: "Job Proficiency", statement: "Led 12-person Joint SOF team during two-week COMLEX exercise, executing 22 high-risk air insertions in unfavorable weather conditions with zero safety incidents, directly improving squadron tactical readiness by 35%."},
                        {category: "executing", alq: "Initiative", statement: "Created and implemented new NVG currency tracking system, reducing administrative downtime by 75% and enabling 15% increase in monthly training sortie production."},
                        {category: "leading", alq: "Inclusion & Teamwork", statement: "Organized cross-functional integration cell between Air Force SOF and Army partners, producing 4 new TTPs that decreased planning time by 50% during contingency operations."},
                        {category: "managing", alq: "Stewardship", statement: "Restructured flight scheduling process to optimize crew and aircraft utilization, generating 28 additional training sorties and saving $138K in TDY costs over 6 months."},
                        {category: "improving", alq: "Innovation", statement: "Developed and tested tactical approach procedures for high-threat scenarios, resulting in new SOF implementation guide adopted across all AFSOC squadrons."}
                    ],
                    
                    "1Z1 - Pararescue": [
                        {category: "executing", alq: "Job Proficiency", statement: "Led 4-person PJ element during CSAR operation in contested environment, successfully recovering downed aircrew and treating 3 casualties under fire within golden hour timeline."},
                        {category: "executing", alq: "Adaptability", statement: "Developed tactical solution for prolonged field care during 72-hour medical evacuation scenario, maintaining stable patient conditions despite equipment limitations and extreme weather."},
                        {category: "leading", alq: "Communication", statement: "Briefed POTUS during high-profile DV visit, clearly explaining 5 critical PJ capabilities that directly influenced $12M funding decision for advanced rescue technology."},
                        {category: "managing", alq: "Accountability", statement: "Managed team medical kit inventory system; accounted for 125 critical care items and reduced item shortfalls by 95%, ensuring 100% mission capability for 6 consecutive months."},
                        {category: "improving", alq: "Decision Making", statement: "Implemented tactical decision-making matrix during complex rescue exercise, reducing team response time by 14 minutes and establishing new standard for squadron operations."}
                    ],
                    
                    // Intelligence examples
                    "14N - Intelligence Officer": [
                        {category: "executing", alq: "Job Proficiency", statement: "Analyzed 230+ intelligence reports spanning 6 months, identifying 3 critical adversary tactics and providing actionable intelligence that shaped 4 key operational plans."},
                        {category: "executing", alq: "Initiative", statement: "Initiated unit training program focused on emerging PRC capabilities; developed 5 threat modules utilized by 35 personnel, increasing operational readiness scores by 22%."},
                        {category: "leading", alq: "Communication", statement: "Briefed 15 intelligence products to senior leaders during 2 major exercises; delivered complex findings that directly influenced Commander's risk assessment for 3 mission sets."},
                        {category: "managing", alq: "Stewardship", statement: "Oversaw $1.2M intelligence equipment review; consolidated 3 redundant systems and redirected resources to critical capability gaps, improving analytic production by 30%."},
                        {category: "improving", alq: "Innovation", statement: "Designed streamlined SIGINT reporting process that reduced analysis time from 6 hours to 45 minutes; template adopted by 3 other squadrons across MAJCOM."}
                    ],
                    
                    // Cyber examples
                    "17D - Cyberspace Operations Officer": [
                        {category: "executing", alq: "Job Proficiency", statement: "Directed network defense operations across 3 enclaves supporting 2,500 users; prevented 17 advanced persistent threats and maintained 99.8% operational uptime."},
                        {category: "executing", alq: "Adaptability", statement: "Led rapid response team during major security breach; contained attack within 4 hours, restored critical systems in under 24 hours, and developed new defense protocol adopted MAJCOM-wide."},
                        {category: "leading", alq: "Emotional Intelligence", statement: "Mentored 8 NCOs through certification process; recognized individual learning needs and tailored approach for each member, achieving 100% pass rate and 20% above-average scores."},
                        {category: "managing", alq: "Stewardship", statement: "Managed $3.7M cyber equipment portfolio; optimized lifecycle replacement strategy saving $420K and improving incident response capabilities by 35%."},
                        {category: "improving", alq: "Innovation", statement: "Developed Python script automating network compliance checks; reduced manual labor by 45 hours weekly and improved detection of critical vulnerabilities by 65%."}
                    ],
                    
                    "1D7 - Cyber Defense Operations": [
                        {category: "executing", alq: "Job Proficiency", statement: "Monitored network activity across 4 critical systems; detected and neutralized 27 advanced threats, maintaining 99.7% operational availability for mission-essential functions."},
                        {category: "executing", alq: "Initiative", statement: "Created and implemented automated threat hunting tool utilizing machine learning algorithms; reduced analyst workload by 35% while improving detection rates by 42%."},
                        {category: "leading", alq: "Communication", statement: "Developed and delivered 5 cybersecurity training modules to 75 non-technical staff; reduced security incidents by 68% and significantly improved unit's cyber hygiene."},
                        {category: "managing", alq: "Accountability", statement: "Managed compliance program for 12 information systems containing classified data; achieved 100% CCRI inspection rating, first perfect score in unit history."},
                        {category: "improving", alq: "Decision Making", statement: "Led 4-person incident response team during complex ransomware attack; made critical containment decisions that preserved 95% of operational capability and prevented data exfiltration."}
                    ],
                    
                    // Add default examples for any AFSC without specific data
                    "default": [
                        {category: "executing", alq: "Job Proficiency", statement: "Led 8-person team performing core mission functions during high-tempo operations; completed 45 taskings with 97% quality rating while maintaining zero safety incidents."},
                        {category: "executing", alq: "Initiative", statement: "Identified critical process inefficiency and implemented solution without direction; reduced workflow bottlenecks by 40% and improved output quality by 25%."},
                        {category: "leading", alq: "Inclusion & Teamwork", statement: "Fostered collaborative environment across 3 functional areas; integrated diverse perspectives that improved project outcomes and reduced rework by 30%."},
                        {category: "managing", alq: "Stewardship", statement: "Managed $1.5M equipment program with meticulous accountability; extended lifecycle of key assets by 2 years and saved $120K in replacement costs."},
                        {category: "improving", alq: "Innovation", statement: "Developed creative solution to longstanding operational challenge; implemented new approach that reduced process time by 35% and established new unit standard."}
                    ]
                };
                
                // Get the examples for the selected AFSC or use default if not found
                const examples = afscExamples[afsc] || afscExamples["default"];
                
                // Create DOM elements for each example
                examples.forEach(example => {
                    const exampleElement = document.createElement('div');
                    exampleElement.className = `example-item ${example.category}`;
                    exampleElement.setAttribute('data-alq', example.alq);
                    
                    // Format with different background color based on category
                    let categoryColor;
                    switch(example.category) {
                        case "executing":
                            categoryColor = "#E3F2FD"; // Light blue
                            break;
                        case "leading":
                            categoryColor = "#E8F5E9"; // Light green
                            break;
                        case "managing":
                            categoryColor = "#FFF3E0"; // Light orange
                            break;
                        case "improving":
                            categoryColor = "#F3E5F5"; // Light purple
                            break;
                        default:
                            categoryColor = "#F5F5F5"; // Light gray
                    }
                    
                    exampleElement.style.backgroundColor = categoryColor;
                    exampleElement.style.padding = "15px";
                    exampleElement.style.marginBottom = "15px";
                    exampleElement.style.borderRadius = "8px";
                    exampleElement.style.borderLeft = "4px solid var(--air-force-blue)";
                    exampleElement.style.boxShadow = "0 2px 4px rgba(0,0,0,0.1)";
                    
                    exampleElement.innerHTML = `
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span style="font-weight: 600; color: var(--air-force-blue);">${example.alq}</span>
                            <button class="copy-example-btn" style="background: none; border: none; color: var(--air-force-blue); cursor: pointer; font-size: 0.9rem;">
                                <span style="margin-right: 5px;">📋</span> Copy
                            </button>
                        </div>
                        <p style="margin: 0; line-height: 1.5;">${example.statement}</p>
                    `;
                    
                    examplesList.appendChild(exampleElement);
                    
                    // Add copy functionality
                    exampleElement.querySelector('.copy-example-btn').addEventListener('click', function() {
                        navigator.clipboard.writeText(example.statement)
                            .then(() => {
                                this.innerHTML = '<span style="margin-right: 5px;">✓</span> Copied!';
                                setTimeout(() => {
                                    this.innerHTML = '<span style="margin-right: 5px;">📋</span> Copy';
                                }, 2000);
                            })
                            .catch(err => {
                                console.error('Could not copy text: ', err);
                            });
                    });
                });
            }
            
            // Filter examples based on search and selected category
            function filterExamples() {
                const searchTerm = document.getElementById('exampleSearch').value.toLowerCase();
                const activeFilter = document.querySelector('.filter-btn[style*="background: var(--air-force-blue)"]').getAttribute('data-filter');
                
                document.querySelectorAll('.example-item').forEach(item => {
                    const content = item.textContent.toLowerCase();
                    const category = item.className.split(' ')[1];
                    
                    const matchesSearch = searchTerm === '' || content.includes(searchTerm);
                    const matchesFilter = activeFilter === 'all' || category === activeFilter;
                    
                    item.style.display = matchesSearch && matchesFilter ? 'block' : 'none';
                });
            }
            
            // Search functionality for examples
            document.getElementById('exampleSearch').addEventListener('input', function() {
                filterExamples();
            });
            
            // Filter buttons for examples
            document.querySelectorAll('.filter-btn').forEach(button => {
                button.addEventListener('click', function() {
                    // Update active class
                    document.querySelectorAll('.filter-btn').forEach(btn => {
                        btn.style.background = '#f0f0f0';
                        btn.style.color = 'var(--dark-text)';
                    });
                    this.style.background = 'var(--air-force-blue)';
                    this.style.color = 'white';
                    
                    // Apply filter
                    filterExamples();
                });
            });
            
            // Add Generate AI Prompt button functionality
            document.getElementById('generateButton').addEventListener('click', function() {
                // Get form values
                let jobTitle = document.getElementById('jobTitle').value;
                if (jobTitle === 'other') {
                    jobTitle = document.getElementById('otherJobTitle').value || 'Unspecified Job Title';
                }
                
                let unitName = document.getElementById('unitName').value;
                if (unitName === 'other') {
                    unitName = document.getElementById('otherUnitName').value || 'Unspecified Unit';
                }
                
                const accomplishment = document.getElementById('accomplishment').value || '';
                const purpose = document.getElementById('purpose').value;
                
                // Check required fields
                if (!jobTitle || !unitName || !accomplishment) {
                    alert('Please fill in all required fields: Job Title, Unit Name, and Accomplishment.');
                    return;
                }
                
                // Get selected ALQs
                const selectedAlqs = [];
                document.querySelectorAll('input[name="alq"]:checked').forEach(checkbox => {
                    selectedAlqs.push(checkbox.value);
                });
                
                // ALQ descriptions
                const alqDescriptions = {
                    "Job Proficiency": "demonstrating technical expertise and excellence in performing assigned duties",
                    "Initiative": "taking proactive action to seize opportunities without needing direction",
                    "Adaptability": "adjusting to changing conditions and maintaining performance under pressure",
                    "Inclusion & Teamwork": "fostering collaboration and valuing diverse perspectives",
                    "Emotional Intelligence": "recognizing and managing personal emotions and those of others",
                    "Communication": "conveying ideas clearly and effectively at all organizational levels",
                    "Stewardship": "responsibly managing time, money, equipment, and personnel",
                    "Accountability": "taking ownership of actions and ensuring tasks are completed to expectation",
                    "Decision Making": "analyzing situations and making sound, timely choices",
                    "Innovation": "seeking creative solutions and implementing improvements to enhance processes"
                };
                
                // Format ALQ section
                let alqSection = '';
                if (selectedAlqs.length > 0) {
                    alqSection = 'Airman Leadership Qualities (ALQs):\n';
                    selectedAlqs.forEach((alq, index) => {
                        alqSection += `${index + 1}. ${alq} - ${alqDescriptions[alq]}\n`;
                    });
                }
                
                // Build the prompt
                const commonInstructions = `You are a USAF writing assistant specializing in crafting effective performance statements for military personnel.

Job Title/AFSC: ${jobTitle}
Unit: ${unitName}

Here's my accomplishment in rough format:
${accomplishment}

${alqSection}
I need your help converting this into proper USAF Performance Statement format following these guidelines:
- Each statement should be a standalone sentence
- Include both the action and at least one impact or result/outcome
- IMPORTANT: Make sure the impact directly relates to ${unitName} mission and capabilities
- Use plain language and avoid uncommon acronyms
- Emphasize leadership, mission impact, and quantifiable results
- Be concise but comprehensive${selectedAlqs.length > 0 ? `
- Highlight the selected Airman Leadership Qualities in the statements` : ''}`;
                
                // Add purpose-specific instructions with character limits
                let prompt = '';
                switch(purpose) {
                    case 'weekly':
                        prompt = `${commonInstructions}

Please create 5-7 performance statements suitable for a Weekly Civilian Performance report that highlights my most significant contributions this week. Focus on mission impact and demonstrate impact appropriate for the employee's position.

IMPORTANT: Each statement MUST be EXACTLY 250 characters long - no more, no less. Count spaces, punctuation, and all other characters.

No explanatory text is needed, just provide the formatted statements.`;
                        break;
                        
                    case 'award':
                        prompt = `${commonInstructions}

Please create 5-7 performance statements suitable for an AF Form 1206 Award Package. Statements should be impactful, showcase leadership, and emphasize quantifiable results. Format should follow the example:

"SSgt Smith led 15-member team in emergency response exercise, resulting in 30% faster response time and recognition from Wing Commander."

IMPORTANT: Each statement MUST be EXACTLY 250 characters long - no more, no less. Count spaces, punctuation, and all other characters.

No explanatory text is needed, just provide the formatted statements.`;
                        break;
                        
                    case 'epr':
                        prompt = `${commonInstructions}

Please create 5-7 performance statements suitable for an Enlisted Performance Brief (EPB). Focus on duty performance, leadership/followership, and whole airman concept. Each statement should demonstrate impact at the appropriate level (work center, squadron, group, wing, etc.).

IMPORTANT: Each statement MUST be EXACTLY 175 characters long - no more, no less. Count spaces, punctuation, and all other characters.

No explanatory text is needed, just provide the formatted statements.`;
                        break;
                        
                    case 'opr':
                        prompt = `${commonInstructions}

Please create 5-7 performance statements suitable for an Officer Performance Brief (OPB). Focus on leadership, mission accomplishment, and professional qualities. Each statement should demonstrate strategic thinking and impact appropriate for the officer's rank and position.

IMPORTANT: Each statement MUST be EXACTLY 175 characters long - no more, no less. Count spaces, punctuation, and all other characters.

No explanatory text is needed, just provide the formatted statements.`;
                        break;
                }
                
                // Display the result
                document.getElementById('outputPrompt').textContent = prompt;
                document.getElementById('outputContainer').style.display = 'block';
                document.getElementById('outputContainer').scrollIntoView({behavior: 'smooth'});
            });
        });
    </script>
</body>
</html>
